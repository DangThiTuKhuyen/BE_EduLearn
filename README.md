# Running

Create a `.env` file from the `.env.example` file

## Local (For DEV)

- Environment

```
Docker Desktop 2.0+.
node v16+
```

- Use [Developing inside a Container](https://code.visualstudio.com/docs/remote/containers)
- Open terminal inside container

```
yarn start:dev

yarn lint     # Check lint
yarn format   # Format code
yarn test     # Run test
yarn test:cov # Runt test with coverage
```

- URL: http://localhost:3000 (3000 is default port)
- `lint` and `format` will be run automatically when you commit code

- Other way

```
docker-compose up
```

## Deploy

- Set `APP_ENV=production` in `.env`
- Run bellow command to create docker image

```
docker-compose build --no-cache <service_name>
```

- Push image to ECR or other.

## Test

- Unit test

```
yarn test
```

- e2e test

```
yarn test:e2e
```

## Migration

- Create migration file

```
yarn typeorm migration:create -n CreateUsersTable
```

- Running migration

```
yarn typeorm migration:run
```

- Revert migration

```
yarn typeorm migration:revert
```

# Architect

- [Project Structure](./docs/project-structure.md)
- Generated by

```
brew install tree
tree . -I 'dist|node_modules' >> docs/project-structure.md
```
